
// console.log(phoneData)

let phoneData =[
    {image_url:
      "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6394/6394667_sd.jpg;maxHeight=200;maxWidth=300",
  name: "Samsung",
  model : "Model: SM-A125UZKDXAA",
  price: 179.99,
  save : "Save $20",
    },
    {image_url:
    "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6452/6452955_sd.jpg;maxHeight=200;maxWidth=300",
  name: "Samsung",
  model : "Model: SM-A125UZKDXAA",
  price: 179.99,
  save : "Save $30",
    },
    {image_url:
    "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6468/6468284_sd.jpg;maxHeight=200;maxWidth=300",
  name: "Samsung",
  model : "Model: SM-F926UZKAVZW",
  price: 456.99,
  save : "Save $100",
    },
    {image_url:
    "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6483/6483636_sd.jpg;maxHeight=200;maxWidth=300",
  name: "Google",
  model : "Model: GA03149-US",
  price: 899.00,
  save : "Save $80",
    },
    {image_url:
    "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6394/6394667_sd.jpg;maxHeight=200;maxWidth=300",
  name: "Apple",
  model : "Model: X 256GB GRAY RB",
  price: 399.99,
  save : "Save $40",
    },
    {image_url:
    "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6493/6493970_sd.jpg;maxHeight=200;maxWidth=300",
  name: "Samsung",
  model : "Model: SM-A136UZKDXAA",
  price: 249.99,
  save : "Save $50",
    },
    {image_url:
    "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6398/6398614_sd.jpg;maxHeight=200;maxWidth=300",
  name: "Apple",
  model : "Model: XR 128GB BLACK RB",
  price: 419.99,
  save : "Save $70",
    },
    {image_url:
    "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6448/6448207_sd.jpg;maxHeight=200;maxWidth=300",
  name: "OnePlus",
  model : "Model: BE2026",
  price: 249.99,
  save : "Save $50",
    },

    {image_url:
    "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6457/6457035_sd.jpg;maxHeight=200;maxWidth=300",
  name: "OnePlus",
  model : "Model: LE2115",
  price: 549.99,
  save : "Save $180",
    },
    {image_url:
    "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6452/6452963_sd.jpg;maxHeight=200;maxWidth=300",
  name: "Samsung",
  model : "Model: SM-A426UZKBXAA",
  price: 399.99,
  save : "Save $100",
    },
    {image_url:
    "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6443/6443180_sd.jpg;maxHeight=200;maxWidth=300",
  name: "Apple",
  model : "Model: MLMT3LL/A",
  price: 349.99,
  save : "Save $100",
    },
    {image_url:
    "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6466/6466003cv18d.jpg;maxHeight=200;maxWidth=300",
  name: "Samsung",
  model : "Model: SM-G990UZADXAA",
  price: 699.99,
  save : "Save $80",
    },
    {image_url:
    "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6448/6448201_sd.jpg;maxHeight=200;maxWidth=300",
  name: "Motorola",
  model : "Model: PAN00004US",
  price: 299.99,
  save : "Save $100",
    },
    {image_url:
    "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6334/6334396_sd.jpg;maxHeight=200;maxWidth=300",
  name: "Apple",
  model : "Model: 8 64GB GRAY RB",
  price: 229.99,
  save : "Save $20",
    },
    {image_url:
    "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6441/6441105_sd.jpg;maxHeight=200;maxWidth=300",
  name: "Samsung",
  model : "Model: SM-G991UZKAXAA",
  price: 799.99,
  save : "Save $20",
    },
    {image_url:
    "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6462/6462915_sd.jpg;maxHeight=200;maxWidth=300",
  name: "Nokia",
  model : "Model: TA-1338",
  price: 149.99,
  save : "Save $20",
    },
    {image_url:
    "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6441/6441178_rd.jpg;maxHeight=200;maxWidth=300",
  name: "Motorola",
  model : "Model: PALF0005US",
  price: 129.99,
  save : "Save $120",
    },
    {image_url:
    "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6441/6441181_rd.jpg;maxHeight=200;maxWidth=300",
  name: "Motorola",
  model : "Model: PALK0003US",
  price: 249.99,
  save : "Save $150",
    },
    {image_url:
    "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6473/6473167_sd.jpg;maxHeight=200;maxWidth=300",
  name: "SSamsung - Galaxy ",
  model : "Model: G960U",
  price: 249.99,
  save : "Save $40",
    },
    {image_url:
    "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6441/6441176_rd.jpg;maxHeight=200;maxWidth=300",
  name: "Motorola",
  model : "Model: PAL60003US",
  price: 149.99,
  save : "Save $20",
    },

];
// console.log(phoneData)
 // to call displayData function
 window.addEventListener("load", function(){
  displayData(phoneData);
});

// Sort By Price
function handleByPrice(){
  var selected = document.querySelector("#sortPrice").value;
  // console.log(selected)
  if(selected == "") window.location.reload();
  // Sort Low to High
  if(selected == "LTH"){
   phoneData.sort(function(a,b){
      return a.price - b.price ;
    });
    displayData(phoneData);
  }

  // Sort High to Low
  if(selected == "HTL"){
    phoneData.sort(function(a,b){
      return b.price - a.price ;
    });
    displayData(phoneData);
  }
}


// Sort By Names
function handleByName(){
  var selected = document.querySelector("#sortNames").value;
  // console.log(selected);

  if(selected == "") window.location.reload();
  
  if(selected == "asc"){
    phoneData.sort(function(a,b){
      if(a.name > b.name) return 1;
      if(a.name < b.name) return -1;
      return 0;
    });
    displayData(phoneData);
    console.log(selected)
  }

  if(selected == "dec"){
    phoneData.sort(function(a,b){
      if(a.name > b.name) return -1;
      if(a.name < b.name) return 1;
      return 0;
    });
    displayData(phoneData);
  }
}


function handleBrandFilter(){
  var selected = document.querySelector("#filterBrand").value;

  if(selected == "") window.location.reload();
  else{
    var filteredList = phoneData.filter(function(el){
      return el.name == selected;
    });
    // console.log(selected)
    displayData(filteredList);
  }
}

var container = document.createElement("div");
container.setAttribute("id","container");
document.querySelector("body").append(container);
var cartData = JSON.parse(localStorage.getItem("cart")) || [];

function displayData(phoneData){
document.querySelector("#container").innerText = "";


  phoneData.map(function(el){
    var box = document.createElement("div");
    
    var img = document.createElement("img");
    img.src = el.image_url;

    var name = document.createElement("p");
    name.textContent = el.name;

    var brandName = document.createElement("p");
    brandName.textContent = el.model

    var pricebox = document.createElement("div")
    pricebox.setAttribute("id","pricebox")

    var div1 = document.createElement("div")
    var price = document.createElement("h3");
    price.textContent = el.price;
    div1.append(price);
    
    var div2 = document.createElement("div")
    var striked = document.createElement("strike");
    striked.textContent = el.save;
    // striked.style.textDecoration = strike line-through
    div2.append(striked);

    pricebox.append(div1,div2);

    var btn = document.createElement("button");
    btn.setAttribute("id","btn")
    btn.textContent = "Add to Cart";
    btn.addEventListener("click", function(){
        addToCart(el);
    });

    // box.append(img,name,prices);
    box.append(img,name,brandName,pricebox,btn);
    document.querySelector("#container").append(box);
  });

  function addToCart(el){
    // console.log(el);
    cartData.push(el);
    localStorage.setItem("cart",JSON.stringify(cartData));
    alert("Item added to cart");
  }

}


