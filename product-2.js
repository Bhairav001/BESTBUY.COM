let tvData=[
    {image_url:
        "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6452/6452966_sd.jpg;maxHeight=200;maxWidth=300",
      name: "Samsung",
      model : "Model: UN43AU8000FXZA",
      price: 379.99,
      save : "Save $70",
        },
        {image_url:
        "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6401/6401740_sd.jpg;maxHeight=200;maxWidth=300",
      name: "Samsung",
      model : "Model: UN43TU7000FXZA",
      price: 309.99,
      save : "Save $90",
        },
        {image_url:
        "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6401/6401722_sd.jpg;maxHeight=200;maxWidth=300",
      name: "Samsung",
      model : "Model: UN65TU7000FXZA",
      price: 549.99,
      save : "Save $50",
        },
        {image_url:
        "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6401/6401738_sd.jpg;maxHeight=200;maxWidth=300",
      name: "Samsung",
      model : "Model: UN50TU7000FXZA",
      price: 399.99,
      save : "Save $80",
        },
        {image_url:
        "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6405/6405232_sd.jpg;maxHeight=200;maxWidth=300",
      name: "Insignia",
      model : "Model: NS-65DF710NA21",
      price: 489.99,
      save : "Save $80",
        },
        {image_url:
        "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6427/6427874_sd.jpg;maxHeight=200;maxWidth=300",
      name: "TCL",
      model : "Model: 50S435",
      price: 299.99,
      save : "Save $60",
        },
        {image_url:
        "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6401/6401735_sd.jpg;maxHeight=200;maxWidth=300",
      name: "Samsung",
      model : "Model: UN55TU7000FXZA",
      price: 409.99,
      save : "Save $70",
        },
        {image_url:
        "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6395/6395125_sd.jpg;maxHeight=200;maxWidth=300",
      name: "Insignia",
      model : "Model: NS-24DF310NA21",
      price: 119.99,
      save : "Save $50",
        },
        {image_url:
        "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6429/6429416_sd.jpg;maxHeight=200;maxWidth=300",
      name: "Samsung",
      model : "Model: UN70TU7000BXZA",
      price: 649.99,
      save : "Save $30",
        },
        {image_url:
        "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6456/6456970_sd.jpg;maxHeight=200;maxWidth=300",
      name: "Insignia",
      model : "Model: NS-50F301NA22",
      price: 299.99,
      save : "Save $100",
        },
        {image_url:
        "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6450/6450247_sd.jpg;maxHeight=200;maxWidth=300",
      name: "Insignia",
      model : "Model: NS-55F301NA22",
      price: 349.99,
      save : "Save $100",
        },
        {image_url:
        "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6427/6427942_sd.jpg;maxHeight=200;maxWidth=300",
      name: "TCL",
      model : "Model: 55S435",
      price: 349.99,
      save : "Save $30",
        },
        {image_url:
        "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6486/6486710_sd.jpg;maxHeight=200;maxWidth=300",
      name: "Samsung",
      model : "Model: UN85AU7980FXZA",
      price: 1399.99,
      save : "Save $30",
        },
        {image_url:
        "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6448/6448758_sd.jpg;maxHeight=200;maxWidth=300",
      name: "Insignia",
      model : "Model: NS-43F301NA22",
      price: 269.99,
      save : "Save $30",
        },
        {image_url:
        "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6448/6448758_sd.jpg;maxHeight=200;maxWidth=300",
      name: "Insignia",
      model : "Model: NS-43F301NA22",
      price: 269.99,
      save : "Save $30",
        },
        {image_url:
        "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6453/6453968_sd.jpg;maxHeight=200;maxWidth=300",
      name: "LG",
      model : "Model: 43UP7000PUA",
      price: 309.99,
      save : "Save $20",
        },
        {image_url:
        "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6247/6247254_sd.jpg;maxHeight=200;maxWidth=300",
      name: "Insignia",
      model : "Model: NS-32DF310NA19",
      price: 149.99,
      save : "Save $30",
        },
        {image_url:
        "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6445/6445425_sd.jpg;maxHeight=200;maxWidth=300",
      name: "Insignia",
      model : "Model: NS-42F201NA22",
      price: 229.99,
      save : "Save $40",
        },
        {image_url:
        "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6459/6459308_sd.jpg;maxHeight=200;maxWidth=300",
      name: "Sony",
      model : "Model: XR75X95J",
      price: 2499.99,
      save : "Save $40",
        },
        {image_url:
        "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6202/6202106_sd.jpg;maxHeight=200;maxWidth=300",
      name: "Samsung",
      model : "Model: UN32N5300AFXZA",
      price: 229.99,
      save : "Save $40",
        },
]
// console.log(tvData)

window.addEventListener("load", function(){
  displayData(tvData);
});

// Sort By Price
function handleByPrice(){
  var selected = document.querySelector("#sortPrice").value;
  // console.log(selected)
  if(selected == "") window.location.reload();
  // Sort Low to High
  if(selected == "LTH"){
   tvData.sort(function(a,b){
      return a.price - b.price ;
    });
    displayData(tvData);
  }

  // Sort High to Low
  if(selected == "HTL"){
    tvData.sort(function(a,b){
      return b.price - a.price ;
    });
    displayData(tvData);
  }
}


// Sort By Names
function handleByName(){
  var selected = document.querySelector("#sortNames").value;
  // console.log(selected);

  if(selected == "") window.location.reload();
  
  if(selected == "asc"){
    tvData.sort(function(a,b){
      if(a.name > b.name) return 1;
      if(a.name < b.name) return -1;
      return 0;
    });
    displayData(tvData);
    console.log(selected)
  }

  if(selected == "dec"){
    tvData.sort(function(a,b){
      if(a.name > b.name) return -1;
      if(a.name < b.name) return 1;
      return 0;
    });
    displayData(tvData);
  }
}


function handleBrandFilter(){
  var selected = document.querySelector("#filterBrand").value;

  if(selected == "") window.location.reload();
  else{
    var filteredList = tvData.filter(function(el){
      return el.name == selected;
    });
    // console.log(selected)
    displayData(filteredList);
  }
}

var container = document.createElement("div");
container.setAttribute("id","container");
document.querySelector("body").append(container);
var cartData = JSON.parse(localStorage.getItem("cart")) || [];

function displayData(tvData){
document.querySelector("#container").innerText = "";


  tvData.map(function(el){
    var box = document.createElement("div");
    
    var img = document.createElement("img");
    img.src = el.image_url;

    var name = document.createElement("p");
    name.textContent = el.name;

    var brandName = document.createElement("p");
    brandName.textContent = el.model

    var pricebox = document.createElement("div")
    pricebox.setAttribute("id","pricebox")

    var div1 = document.createElement("div")
    var price = document.createElement("h3");
    price.textContent = el.price;
    div1.append(price);
    
    var div2 = document.createElement("div")
    var striked = document.createElement("strike");
    striked.textContent = el.save;
    // striked.style.textDecoration = strike line-through
    div2.append(striked);

    pricebox.append(div1,div2);

    var btn = document.createElement("button");
    btn.setAttribute("id","btn")
    btn.textContent = "Add to Cart";
    btn.addEventListener("click", function(){
        addToCart(el);
    });

    // box.append(img,name,prices);
    box.append(img,name,brandName,pricebox,btn);
    document.querySelector("#container").append(box);
  });

  function addToCart(el){
    // console.log(el);
    cartData.push(el);
    localStorage.setItem("cart",JSON.stringify(cartData));
    alert("Item added to cart");
  }

}
